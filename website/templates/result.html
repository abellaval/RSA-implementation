{% extends 'base.html' %}

{% block title %}Résultats{% endblock %}

{% block body %}

    <script src="{{ url_for("static", filename="js/fetchResults.js") }}" type="text/javascript"></script>
    <h3 style="text-align:center;">Liste des résultats</h3>

    {% for result in results %}
        <div class="card border-primary mb-3">
            <div class="card-header">
                <h2>Candidat {{ result.candidate.name }}</h2>
            </div>
            <div class="card-body">
                Résultat: <span id={{ result.candidate.id }}>{{ result.votes }}</span>
            </div>
        </div>
    {% endfor %}
    <script>setInterval(fetchResults, 1000, {{ results[0].election_id }})</script>
{% endblock %}